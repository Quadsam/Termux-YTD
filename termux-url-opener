#!/data/data/com.termux/files/usr/bin/bash

# Used to delay after showing an error.
function fail() {
	printf "${1}" >&2
	sleep 5
	exit 1
}

# Exit if youtube-dl cannot be run
if ! youtube-dl --version &>/dev/null; then
	fail "\e[031m Please install Youtube-dl manualy or run the the install.sh script again.\e[0m\n"
	exit 1
fi

# Clear the screen and display the menu
clear
printf '\e[031m           â–„â–€â–„     â–„â–€â–„\n'
printf '\e[031m          â–„â–ˆâ–‘â–‘â–€â–€â–€â–€â–€â–‘â–‘â–ˆâ–„\n'
printf '\e[031m      â–„â–„  â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ  â–„â–„\n'
printf '\e[031m     â–ˆâ–„â–„â–ˆ â–ˆâ–‘â–‘â–ˆâ–‘â–‘â”¬â–‘â–‘â–ˆâ–‘â–‘â–ˆ â–ˆâ–„â–„â–ˆ\n'
printf '\e[036m â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n'
printf '\e[032m â•‘ â™š Project Name : ğŸ†ƒğŸ…´ğŸ†ğŸ…¼ğŸ†„ğŸ†‡-ğŸ†ˆğŸ†ƒğŸ…³â„¢           â•‘\n'
printf '\e[032m â•‘ â™š Author : KhanSaad1275                â•‘\n'
printf '\e[032m â•‘ â™š Github : gÌ²iÌ²tÌ²hÌ²uÌ²bÌ².Ì²cÌ²oÌ²mÌ²/Ì²kÌ²hÌ²aÌ²nÌ²sÌ²aÌ²aÌ²dÌ²1Ì²2Ì²7Ì²5Ì²/Ì²    â•‘\n'
printf '\e[032m â•‘ â™š Website : www.LearnTermux.tech       â•‘\n'
printf '\e[036m â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n'
printf '\e[036m â• â•â–¶ [ğ—¦ğ—²ğ—¹ğ—²ğ—°ğ˜ ğ—” ğ—™ğ—¼ğ—¿ğ—ºğ—®ğ˜]  â³\n'
printf '\e[032m â• â•â–¶ 1. Music Mp3â™«\n'
printf '\e[032m â• â•â–¶ 2. Video 360p\n'
printf '\e[032m â• â•â–¶ 3. Video 480p\n'
printf '\e[032m â• â•â–¶ 4. Video 720p\n'
printf '\e[032m â• â•â–¶ 5. Video 1080p\n'
printf '\e[032m â• â•â–¶ 6. Video 2160p\n'
printf '\e[032m â• â•â–¶ 7. Exit Termux-YTD\n'
printf '\e[032m â•šâ•:â¤  \e[0m\n'
command='-no-mtime -o /data/data/com.termux/files/home/storage/shared/Termux-YTD/%(title)s.%(ext)s -i -f'

# Read user input
read -r option

# Check that an option was chosen
if [[ -z ${option} ]]; then
	clear
	fail '\e[031m Please choose a option!\e[0m\n'
	exit 1
else
	# Parse the user input
	case "${option}" in
		1) printf '%s 140\n' "${command}";;                    # Music MP3
		2) printf '%s \"best[height<=360]\"\n' "${command}";;  # Video 360p
		3) printf '%s \"best[height<=480]\"\n' "${command}";;  # Video 480p
		4) printf '%s \"best[height<=720]\"\n' "${command}";;  # Video 720p
		5) printf '%s \"best[height<=1080]\"\n' "${command}";; # Video 1080p
		6) printf '%s \"best[height<=2160]\"\n' "${command}";; # Video 2160p
		7) exit 1;;
	esac > "${HOME}/.config/youtube-dl/config"
	youtube-dl "${1}"
fi


#There's a cat on the code!!
#          â–„â–€â–„     â–„â–€â–„
#         â–„â–ˆâ–‘â–‘â–€â–€â–€â–€â–€â–‘â–‘â–ˆâ–„
#     â–„â–„  â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ  â–„â–„
#    â–ˆâ–„â–„â–ˆ â–ˆâ–‘â–‘â–ˆâ–‘â–‘â”¬â–‘â–‘â–ˆâ–‘â–‘â–ˆ â–ˆâ–„â–„â–ˆ

#Oh hey there It's me Oak I have no idea how youtube-dl works but i came across this github and saw the messy code and gave it a better look hope it helps :D

#I wanted to mess a little with the Download code but didn't

#email: Kamilohulau@gmail.com
#Date: Wed Dec  2 15:48:19 PST 2020#
#Project name : Termux-YTD#
#Github: https://github.com/khansaad1275/Termux-YTD#
